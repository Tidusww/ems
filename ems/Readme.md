


## 2018.04.19（仅做参考，业务可能已经存在变动）
- 每月工资账单手动生成（后续可考虑自动生成）
- 每月生成工资账单时获取的员工范围为，有项目派遣关系的所有有效员工
- 每月的工作天数是根据当月天数减去周六日，再减去在节假日管理页面中配置的节假日得到
- 当月的每个员工的出勤日期随机安排，但需要满足：不可连续上班7日。
- 工资计算：（ 基本工资 + 工种工资*出勤天数 + 加班工资*加班天数 + 高温费 +房屋补贴 - （社保+公积金）） - 个税





## 设计变动
- 由于服务器上的Mysql版本过低，导致一个表中不允许存在两列或以上使用`default CURRENT_TIMESTAMP`的`timestamp/datetime`列,所以如今只有`update_date`字段会在数据插入时有默认值。
- [ ] `create_date`字段通过设置`before insert`触发器插入当前时间`now()`。
```
if new.create_date is null then 
  set new.create_date = now(); 
end if;
```



- 



